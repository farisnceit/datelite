<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DatePicker Component Examples</title>
    <link rel="stylesheet" href="../src/datelite.css" />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background-color: #f8f9fa;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 40px;
      }

      .example-section {
        margin-bottom: 40px;
        padding: 20px;
        border: 1px solid #e9ecef;
        border-radius: 6px;
        background: #f8f9fa;
      }

      .example-section h2 {
        margin-top: 0;
        color: #495057;
        border-bottom: 2px solid #007bff;
        padding-bottom: 10px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
        color: #495057;
      }

      .form-group input {
        width: 100%;
        max-width: 300px;
        padding: 10px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        font-size: 14px;
      }

      .inline-container {
        margin-top: 20px;
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .demo-item {
        padding: 15px;
        background: white;
        border-radius: 4px;
        border: 1px solid #dee2e6;
      }

      .demo-item h3 {
        margin-top: 0;
        color: #6c757d;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .demo-with-code {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        align-items: start;
        margin-bottom: 30px;
      }
      
      .demo-preview {
        padding: 15px;
        background: white;
        border-radius: 4px;
        border: 1px solid #dee2e6;
      }
      
      .demo-code {
        padding: 15px;
        background: #f8f9fa;
        border-radius: 4px;
        border: 1px solid #dee2e6;
      }
      
      .demo-code h4 {
        margin-top: 0;
        margin-bottom: 10px;
        color: #495057;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 12px;
        border-radius: 4px;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 12px;
        line-height: 1.4;
        overflow-x: auto;
        margin-bottom: 10px;
        white-space: pre-wrap;
      }
      
      .code-block .comment {
        color: #68d391;
      }
      
      .code-block .string {
        color: #fbb6ce;
      }
      
      .code-block .keyword {
        color: #90cdf4;
      }
      
      .code-block .function {
        color: #faf089;
      }
      
      @media (max-width: 768px) {
        .demo-with-code {
          grid-template-columns: 1fr;
        }
      }

      .controls {
        margin-top: 20px;
        padding: 15px;
        background: #e9ecef;
        border-radius: 4px;
      }

      .controls button {
        margin-right: 10px;
        margin-bottom: 10px;
        padding: 8px 16px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }

      .controls button:hover {
        background: #0056b3;
      }

      .controls button.secondary {
        background: #6c757d;
      }

      .controls button.secondary:hover {
        background: #545b62;
      }

      .output {
        margin-top: 15px;
        padding: 10px;
        background: #f8f9fa;
        border-left: 4px solid #007bff;
        font-family: monospace;
        font-size: 13px;
      }

      .theme-switcher {
        text-align: center;
        margin-bottom: 30px;
      }

      .theme-switcher button {
        margin: 0 5px;
        padding: 8px 16px;
        border: 1px solid #007bff;
        background: white;
        color: #007bff;
        border-radius: 4px;
        cursor: pointer;
      }

      .theme-switcher button.active {
        background: #007bff;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>DatePicker Component Examples</h1>
      
      <div style="background: #e3f2fd; padding: 15px; border-radius: 6px; margin-bottom: 30px; border-left: 4px solid #1976d2;">
        <h3 style="margin-top: 0; color: #1976d2;">üìö Interactive Code Examples</h3>
        <p style="margin-bottom: 0; color: #0d47a1;">
          Each example below shows the working DatePicker alongside its implementation code. 
          You can see exactly how each feature is configured and copy the code for your own projects.
        </p>
      </div>

      <div class="theme-switcher">
        <button
          onclick="switchTheme('default')"
          class="active"
          id="theme-default"
        >
          Default
        </button>
        <button onclick="switchTheme('dark')" id="theme-dark">Dark</button>
        <button onclick="switchTheme('minimal')" id="theme-minimal">
          Minimal
        </button>
      </div>

      <!-- Icon Examples -->
      <div class="example-section">
        <h2>Icon Examples</h2>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Default Icon (Right)</h3>
            <div class="form-group">
              <label for="icon-right">With default calendar icon:</label>
              <input type="text" id="icon-right" placeholder="Click icon or input" />
            </div>
            <div class="output" id="icon-right-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> picker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#icon-right'</span>, {
    <span class="comment">// Icon options</span>
    showIcon: <span class="keyword">true</span>,
    iconPosition: <span class="string">'right'</span>, <span class="comment">// default</span>
    
    <span class="comment">// Basic options</span>
    mode: <span class="string">'single'</span>,
    format: <span class="string">'Y-m-d'</span>,
    
    <span class="comment">// Event callback</span>
    onChange: <span class="keyword">function</span>(date) {
        console.log(<span class="string">'Selected:'</span>, date);
    }
});</div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Icon on Left</h3>
            <div class="form-group">
              <label for="icon-left">Icon positioned left:</label>
              <input type="text" id="icon-left" placeholder="Icon on left side" />
            </div>
            <div class="output" id="icon-left-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> picker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#icon-left'</span>, {
    showIcon: <span class="keyword">true</span>,
    iconPosition: <span class="string">'left'</span>, <span class="comment">// position on left</span>
    
    mode: <span class="string">'single'</span>,
    format: <span class="string">'Y-m-d'</span>
});</div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Custom Icon</h3>
            <div class="form-group">
              <label for="custom-icon">Custom calendar icon:</label>
              <input type="text" id="custom-icon" placeholder="Custom icon example" />
            </div>
            <div class="output" id="custom-icon-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> picker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#custom-icon'</span>, {
    showIcon: <span class="keyword">true</span>,
    customIcon: <span class="string">'üìÖ'</span>, <span class="comment">// emoji or HTML</span>
    
    mode: <span class="string">'single'</span>,
    format: <span class="string">'Y-m-d'</span>
});

<span class="comment">// You can also use HTML/SVG:</span>
<span class="comment">// customIcon: '&lt;i class="fas fa-calendar"&gt;&lt;/i&gt;'</span></div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>No Icon</h3>
            <div class="form-group">
              <label for="no-icon">Without icon:</label>
              <input type="text" id="no-icon" placeholder="No icon shown" />
            </div>
            <div class="output" id="no-icon-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> picker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#no-icon'</span>, {
    showIcon: <span class="keyword">false</span>, <span class="comment">// disable icon</span>
    
    mode: <span class="string">'single'</span>,
    format: <span class="string">'Y-m-d'</span>
});</div>
          </div>
        </div>
      </div>

      <!-- Single Date Selection -->
      <div class="example-section">
        <h2>Single Date Selection</h2>
        <div class="demo-grid">
          <div class="demo-item">
            <h3>Basic Single Date</h3>
            <div class="form-group">
              <label for="single-date">Select a date:</label>
              <input
                type="text"
                id="single-date"
                placeholder="Click to select date"
              />
            </div>
            <div class="output" id="single-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>With Time Selection</h3>
            <div class="form-group">
              <label for="single-datetime">Select date and time:</label>
              <input
                type="text"
                id="single-datetime"
                placeholder="Click to select date & time"
              />
            </div>
            <div class="output" id="datetime-output">No date selected</div>
          </div>
        </div>
      </div>

      <!-- Range Date Selection -->
      <div class="example-section">
        <h2>Range Date Selection</h2>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Date Range (Auto-close)</h3>
            <div class="form-group">
              <label for="range-date">Select date range:</label>
              <input type="text" id="range-date" placeholder="Click start, then end date" />
              <small style="display: block; color: #666; margin-top: 4px">
                Closes automatically after selecting both dates
              </small>
            </div>
            <div class="output" id="range-output">No range selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> rangePicker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#range-date'</span>, {
    mode: <span class="string">'range'</span>, <span class="comment">// enable range selection</span>
    format: <span class="string">'Y-m-d'</span>,
    closeOnSelect: <span class="keyword">true</span>, <span class="comment">// auto-close after both dates</span>
    
    onChange: <span class="keyword">function</span>(dateRange) {
        <span class="keyword">if</span> (dateRange.start && dateRange.end) {
            console.log(<span class="string">'Range:'</span>, dateRange.start, <span class="string">'to'</span>, dateRange.end);
        }
    }
});</div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Range with Confirmation</h3>
            <div class="form-group">
              <label for="range-confirm">Range with Apply/Cancel:</label>
              <input type="text" id="range-confirm" placeholder="Confirm your selection" />
            </div>
            <div class="output" id="range-confirm-output">No range selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> confirmPicker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#range-confirm'</span>, {
    mode: <span class="string">'range'</span>,
    confirmRange: <span class="keyword">true</span>, <span class="comment">// show Apply/Cancel buttons</span>
    applyButtonText: <span class="string">'Apply'</span>,
    cancelButtonText: <span class="string">'Cancel'</span>,
    
    onChange: <span class="keyword">function</span>(dateRange) {
        <span class="comment">// Only fires when Apply is clicked</span>
        console.log(<span class="string">'Confirmed range:'</span>, dateRange);
    }
});</div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Custom Button Text</h3>
            <div class="form-group">
              <label for="range-custom-buttons">Custom Apply/Cancel text:</label>
              <input type="text" id="range-custom-buttons" placeholder="Custom button labels" />
            </div>
            <div class="output" id="range-custom-buttons-output">No range selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> customPicker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#range-custom-buttons'</span>, {
    mode: <span class="string">'range'</span>,
    confirmRange: <span class="keyword">true</span>,
    applyButtonText: <span class="string">'Confirm Selection'</span>, <span class="comment">// custom text</span>
    cancelButtonText: <span class="string">'Reset'</span>, <span class="comment">// custom text</span>
    
    onChange: <span class="keyword">function</span>(dateRange) {
        console.log(<span class="string">'Custom range:'</span>, dateRange);
    }
});</div>
          </div>
        </div>
      </div>

      <!-- Multiple Date Selection -->
      <div class="example-section">
        <h2>Multiple Date Selection</h2>
        <div class="demo-item">
          <h3>Multiple Dates</h3>
          <div class="form-group">
            <label for="multiple-dates">Select multiple dates:</label>
            <input
              type="text"
              id="multiple-dates"
              placeholder="Click to select multiple dates"
            />
          </div>
          <div class="output" id="multiple-output">No dates selected</div>
        </div>
      </div>

      <!-- Inline Calendar -->
      <div class="example-section">
        <h2>Inline Calendar</h2>
        <div class="demo-grid">
          <div class="demo-item">
            <h3>Always Visible</h3>
            <div id="inline-calendar"></div>
            <div class="output" id="inline-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>With Restrictions</h3>
            <div id="restricted-calendar"></div>
            <div class="output" id="restricted-output">No date selected</div>
          </div>
        </div>
      </div>

      <!-- Dropdown Examples -->
      <div class="example-section">
        <h2>Month/Year Dropdown Examples</h2>
        <div class="demo-grid">
          <div class="demo-item">
            <h3>Both Dropdowns</h3>
            <div class="form-group">
              <label for="dropdown-both">Month & Year dropdowns:</label>
              <input
                type="text"
                id="dropdown-both"
                placeholder="Select with dropdowns"
              />
            </div>
            <div class="output" id="dropdown-both-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>Month Dropdown Only</h3>
            <div class="form-group">
              <label for="dropdown-month">Month dropdown only:</label>
              <input
                type="text"
                id="dropdown-month"
                placeholder="Month dropdown"
              />
            </div>
            <div class="output" id="dropdown-month-output">
              No date selected
            </div>
          </div>

          <div class="demo-item">
            <h3>Year Dropdown Only</h3>
            <div class="form-group">
              <label for="dropdown-year">Year dropdown only:</label>
              <input
                type="text"
                id="dropdown-year"
                placeholder="Year dropdown"
              />
            </div>
            <div class="output" id="dropdown-year-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>Limited Year Range</h3>
            <div class="form-group">
              <label for="dropdown-limited">Limited years (2020-2030):</label>
              <input
                type="text"
                id="dropdown-limited"
                placeholder="Limited year range"
              />
            </div>
            <div class="output" id="dropdown-limited-output">
              No date selected
            </div>
          </div>
        </div>
      </div>

      <!-- Icon Control Demonstration -->
      <div class="example-section">
        <h2>Icon Control API</h2>
        <div class="demo-item">
          <h3>Dynamic Icon Control</h3>
          <div class="form-group">
            <label for="icon-control">Icon Control Demo:</label>
            <input
              type="text"
              id="icon-control"
              placeholder="Control icon dynamically"
            />
          </div>

          <div class="controls">
            <button onclick="iconControlDemo.showIcon()">Show Icon</button>
            <button onclick="iconControlDemo.hideIcon()">Hide Icon</button>
            <button onclick="iconControlDemo.toggleIcon()">Toggle Icon</button>
            <button
              onclick="iconControlDemo.setIconPosition('left')"
              class="secondary"
            >
              Icon Left
            </button>
            <button
              onclick="iconControlDemo.setIconPosition('right')"
              class="secondary"
            >
              Icon Right
            </button>
            <button onclick="setCustomIcon()" class="secondary">
              Custom Icon
            </button>
            <button onclick="resetToDefaultIcon()" class="secondary">
              Default Icon
            </button>
          </div>

          <div class="output" id="icon-control-output">
            Use buttons to control icon behavior
          </div>
        </div>
      </div>

      <!-- Date Blocking Examples -->
      <div class="example-section">
        <h2>Date Blocking Examples</h2>
        <div class="demo-grid">
          <div class="demo-item">
            <h3>Block Weekends</h3>
            <div class="form-group">
              <label for="block-weekends">Weekends disabled:</label>
              <input
                type="text"
                id="block-weekends"
                placeholder="Weekdays only"
              />
            </div>
            <div class="output" id="block-weekends-output">
              No date selected
            </div>
          </div>

          <div class="demo-item">
            <h3>Block Past Dates</h3>
            <div class="form-group">
              <label for="block-past">Past dates blocked:</label>
              <input
                type="text"
                id="block-past"
                placeholder="Future dates only"
              />
            </div>
            <div class="output" id="block-past-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>Block Specific Dates</h3>
            <div class="form-group">
              <label for="block-specific">Holidays blocked:</label>
              <input
                type="text"
                id="block-specific"
                placeholder="Some dates unavailable"
              />
            </div>
            <div class="output" id="block-specific-output">
              No date selected
            </div>
          </div>

          <div class="demo-item">
            <h3>Block Date Ranges</h3>
            <div class="form-group">
              <label for="block-ranges">Vacation periods blocked:</label>
              <input
                type="text"
                id="block-ranges"
                placeholder="Some periods unavailable"
              />
            </div>
            <div class="output" id="block-ranges-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>Only Specific Days Allowed</h3>
            <div class="form-group">
              <label for="whitelist-dates">Only certain dates allowed:</label>
              <input
                type="text"
                id="whitelist-dates"
                placeholder="Limited availability"
              />
            </div>
            <div class="output" id="whitelist-dates-output">
              No date selected
            </div>
          </div>

          <div class="demo-item">
            <h3>Custom Block Function</h3>
            <div class="form-group">
              <label for="custom-block">Custom logic (no Fridays):</label>
              <input
                type="text"
                id="custom-block"
                placeholder="Custom blocking rules"
              />
            </div>
            <div class="output" id="custom-block-output">No date selected</div>
          </div>
        </div>
      </div>

      <!-- Positioning Examples -->
      <div class="example-section">
        <h2>Positioning Examples</h2>
        <div class="demo-grid">
          <div class="demo-item">
            <h3>Append to Body</h3>
            <div class="form-group">
              <label for="append-body">Appended to body:</label>
              <input type="text" id="append-body" placeholder="Opens in body" />
            </div>
            <div class="output" id="append-body-output">No date selected</div>
          </div>

        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Fixed Position (X: 100, Y: 200)</h3>
            <div class="form-group">
              <label for="fixed-position">Fixed coordinates:</label>
              <input type="text" id="fixed-position" placeholder="Fixed position" />
            </div>
            <div class="output" id="fixed-position-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>JavaScript Code</h4>
            <div class="code-block"><span class="keyword">const</span> fixedPicker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#fixed-position'</span>, {
    mode: <span class="string">'single'</span>,
    
    <span class="comment">// Fixed positioning</span>
    positionX: <span class="keyword">100</span>, <span class="comment">// 100px from left</span>
    positionY: <span class="keyword">200</span>, <span class="comment">// 200px from top</span>
    
    format: <span class="string">'Y-m-d'</span>
});

<span class="comment">// Dynamic positioning</span>
fixedPicker.setPosition(<span class="keyword">300</span>, <span class="keyword">400</span>); <span class="comment">// change position</span>
fixedPicker.resetPosition(); <span class="comment">// back to auto</span></div>
          </div>
        </div>
        
        <div class="demo-grid">
          <div class="demo-item">
            <h3>Custom Container</h3>
            <div class="form-group">
              <label for="custom-container">Append to custom div:</label>
              <input type="text" id="custom-container" placeholder="Custom container" />
              <div id="custom-append-target" style="position: relative; border: 2px dashed #ccc; padding: 10px; margin-top: 10px; min-height: 50px;">
                Custom Container (datepicker will appear here)
              </div>
            </div>
            <div class="output" id="custom-container-output">No date selected</div>
          </div>

          <div class="demo-item">
            <h3>Custom Container</h3>
            <div class="form-group">
              <label for="custom-container">Append to custom div:</label>
              <input
                type="text"
                id="custom-container"
                placeholder="Custom container"
              />
              <div
                id="custom-append-target"
                style="
                  position: relative;
                  border: 2px dashed #ccc;
                  padding: 10px;
                  margin-top: 10px;
                  min-height: 50px;
                "
              >
                Custom Container (datepicker will appear here)
              </div>
            </div>
            <div class="output" id="custom-container-output">
              No date selected
            </div>
          </div>

          <div class="demo-item">
            <h3>With Offset (X: +50, Y: +20)</h3>
            <div class="form-group">
              <label for="offset-position">Position with offset:</label>
              <input
                type="text"
                id="offset-position"
                placeholder="Offset positioning"
              />
            </div>
            <div class="output" id="offset-position-output">
              No date selected
            </div>
          </div>
        </div>
      </div>

      <!-- CSS Customization Examples -->
      <div class="example-section">
        <h2>CSS Customization Examples</h2>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Green Theme</h3>
            <div class="form-group">
              <label for="green-theme">Custom green theme:</label>
              <input type="text" id="green-theme" placeholder="Green themed datepicker">
            </div>
            <div class="output" id="green-theme-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>CSS Customization</h4>
            <div class="code-block"><span class="comment">/* CSS Variables Override */</span>
<span class="keyword">.datepicker-container.green-theme</span> {
  <span class="string">--dp-primary-color</span>: <span class="function">#28a745</span>;
  <span class="string">--dp-primary-hover</span>: <span class="function">#218838</span>;
  <span class="string">--dp-primary-light</span>: <span class="function">#d4edda</span>;
  <span class="string">--dp-border-focus</span>: <span class="function">#28a745</span>;
}

<span class="comment">/* JavaScript */</span>
<span class="keyword">const</span> picker = <span class="keyword">new</span> <span class="function">DatePicker</span>(<span class="string">'#green-theme'</span>, {
  theme: <span class="string">'green-theme'</span>
});</div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Purple Theme</h3>
            <div class="form-group">
              <label for="purple-theme">Custom purple theme:</label>
              <input type="text" id="purple-theme" placeholder="Purple themed datepicker">
            </div>
            <div class="output" id="purple-theme-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>CSS Variables</h4>
            <div class="code-block"><span class="keyword">.datepicker-container.purple-theme</span> {
  <span class="string">--dp-primary-color</span>: <span class="function">#6f42c1</span>;
  <span class="string">--dp-primary-hover</span>: <span class="function">#5a32a3</span>;
  <span class="string">--dp-primary-light</span>: <span class="function">#e2d9f3</span>;
}

<span class="comment">/* Available Variables: */</span>
<span class="comment">/* --dp-day-size: 36px */</span>
<span class="comment">/* --dp-border-radius-md: 6px */</span>
<span class="comment">/* --dp-font-size-base: 14px */</span>
<span class="comment">/* --dp-spacing-lg: 16px */</span></div>
          </div>
        </div>
        
        <div class="demo-with-code">
          <div class="demo-preview">
            <h3>Large Size Theme</h3>
            <div class="form-group">
              <label for="large-theme">Larger components:</label>
              <input type="text" id="large-theme" placeholder="Large sized datepicker">
            </div>
            <div class="output" id="large-theme-output">No date selected</div>
          </div>
          <div class="demo-code">
            <h4>Size Customization</h4>
            <div class="code-block"><span class="keyword">.datepicker-container.large-theme</span> {
  <span class="string">--dp-day-size</span>: <span class="function">48px</span>;
  <span class="string">--dp-button-height</span>: <span class="function">40px</span>;
  <span class="string">--dp-font-size-base</span>: <span class="function">16px</span>;
  <span class="string">--dp-font-size-lg</span>: <span class="function">18px</span>;
  <span class="string">--dp-container-min-width</span>: <span class="function">320px</span>;
}

<span class="comment">/* All 50+ CSS variables available for customization */</span></div>
          </div>
        </div>
      </div>

      <!-- Position Control API -->
      <div class="example-section">
        <h2>Position Control API</h2>
        <div class="demo-item">
          <h3>Dynamic Position Control</h3>
          <div class="form-group">
            <label for="position-control">Position Control Demo:</label>
            <input
              type="text"
              id="position-control"
              placeholder="Control position dynamically"
            />
          </div>

          <div class="controls">
            <button onclick="positionControlDemo.setPosition(200, 300)">
              Set Position (200, 300)
            </button>
            <button onclick="positionControlDemo.setPosition(400, 100)">
              Set Position (400, 100)
            </button>
            <button onclick="positionControlDemo.setPositionX(150)">
              Set X: 150
            </button>
            <button onclick="positionControlDemo.setPositionY(250)">
              Set Y: 250
            </button>
            <button
              onclick="positionControlDemo.setOffset(30, -10)"
              class="secondary"
            >
              Set Offset (30, -10)
            </button>
            <button
              onclick="positionControlDemo.setAppendTo('body')"
              class="secondary"
            >
              Append to Body
            </button>
            <button
              onclick="positionControlDemo.setAppendTo('#custom-append-target')"
              class="secondary"
            >
              Append to Custom
            </button>
            <button
              onclick="positionControlDemo.resetPosition()"
              class="secondary"
            >
              Reset Position
            </button>
          </div>

          <div class="output" id="position-control-output">
            Use buttons to control positioning
          </div>
        </div>
      </div>

      <!-- Date Blocking Control API -->
      <div class="example-section">
        <h2>Date Blocking Control API</h2>
        <div class="demo-item">
          <h3>Dynamic Date Blocking Control</h3>
          <div class="form-group">
            <label for="blocking-control">Blocking Control Demo:</label>
            <input
              type="text"
              id="blocking-control"
              placeholder="Control date blocking dynamically"
            />
          </div>

          <div class="controls">
            <button onclick="blockingControlDemo.setDisableWeekends(true)">
              Block Weekends
            </button>
            <button onclick="blockingControlDemo.setDisableWeekends(false)">
              Allow Weekends
            </button>
            <button onclick="blockingControlDemo.setBlockPastDates(true)">
              Block Past
            </button>
            <button onclick="blockingControlDemo.setBlockPastDates(false)">
              Allow Past
            </button>
            <button onclick="addHolidays()" class="secondary">
              Add Holidays
            </button>
            <button
              onclick="blockingControlDemo.clearDisabledDates()"
              class="secondary"
            >
              Clear Blocked
            </button>
            <button onclick="addVacationPeriod()" class="secondary">
              Block Vacation
            </button>
            <button
              onclick="blockingControlDemo.clearDisabledDateRanges()"
              class="secondary"
            >
              Clear Ranges
            </button>
          </div>

          <div class="output" id="blocking-control-output">
            Use buttons to control date blocking
          </div>
        </div>
      </div>

      <!-- Range Confirmation Control -->
      <div class="example-section">
        <h2>Range Confirmation Control API</h2>
        <div class="demo-item">
          <h3>Dynamic Range Confirmation Control</h3>
          <div class="form-group">
            <label for="range-control">Range Control Demo:</label>
            <input
              type="text"
              id="range-control"
              placeholder="Control range confirmation"
            />
          </div>

          <div class="controls">
            <button onclick="rangeControlDemo.enableRangeConfirmation()">
              Enable Confirmation
            </button>
            <button onclick="rangeControlDemo.disableRangeConfirmation()">
              Disable Confirmation
            </button>
            <button
              onclick="rangeControlDemo.enableRangeConfirmation('Save', 'Reset')"
              class="secondary"
            >
              Custom Buttons
            </button>
            <button onclick="showCurrentRange()" class="secondary">
              Get Current Range
            </button>
          </div>

          <div class="output" id="range-control-output">
            Use buttons to control range confirmation
          </div>
        </div>
      </div>

      <!-- Dropdown Control Demonstration -->
      <div class="example-section">
        <h2>Dropdown Control API</h2>
        <div class="demo-item">
          <h3>Dynamic Dropdown Control</h3>
          <div class="form-group">
            <label for="dropdown-control">Dropdown Control Demo:</label>
            <input
              type="text"
              id="dropdown-control"
              placeholder="Control dropdowns dynamically"
            />
          </div>

          <div class="controls">
            <button onclick="dropdownControlDemo.enableMonthDropdown()">
              Enable Month Dropdown
            </button>
            <button onclick="dropdownControlDemo.disableMonthDropdown()">
              Disable Month Dropdown
            </button>
            <button onclick="dropdownControlDemo.enableYearDropdown()">
              Enable Year Dropdown
            </button>
            <button onclick="dropdownControlDemo.disableYearDropdown()">
              Disable Year Dropdown
            </button>
            <button
              onclick="dropdownControlDemo.setYearRange(50)"
              class="secondary"
            >
              Set Year Range (50)
            </button>
            <button
              onclick="dropdownControlDemo.setYearLimits(2000, 2050)"
              class="secondary"
            >
              Limit Years (2000-2050)
            </button>
          </div>

          <div class="output" id="dropdown-control-output">
            Use buttons to control dropdown behavior
          </div>
        </div>
      </div>

      <!-- API Demonstration -->
      <div class="example-section">
        <h2>API Methods Demonstration</h2>
        <div class="demo-item">
          <h3>Programmatic Control</h3>
          <div class="form-group">
            <label for="api-demo">API Demo Input:</label>
            <input
              type="text"
              id="api-demo"
              placeholder="Use buttons below to control"
            />
          </div>

          <div class="controls">
            <button onclick="apiDemo.setDate(new Date())">Set Today</button>
            <button onclick="apiDemo.setDate('2024-12-25')">
              Set Christmas
            </button>
            <button onclick="apiDemo.open()">Open</button>
            <button onclick="apiDemo.close()">Close</button>
            <button onclick="apiDemo.toggle()">Toggle</button>
            <button onclick="showCurrentDate()" class="secondary">
              Get Date
            </button>
            <button
              onclick="apiDemo.destroy(); initApiDemo()"
              class="secondary"
            >
              Reinitialize
            </button>
          </div>

          <div class="output" id="api-output">
            Use the buttons above to test API methods
          </div>
        </div>
      </div>
    </div>

    <script src="DatePicker.js"></script>
    <script>
      // Global variables to store datepicker instances
      let singleDatePicker,
        datetimePicker,
        rangePicker,
        multiplePicker,
        inlinePicker,
        restrictedPicker,
        apiDemo,
        iconControlDemo,
        iconRightPicker,
        iconLeftPicker,
        customIconPicker,
        noIconPicker,
        dropdownBothPicker,
        dropdownMonthPicker,
        dropdownYearPicker,
        dropdownLimitedPicker,
        dropdownControlDemo,
        rangeConfirmPicker,
        rangeCustomButtonsPicker,
        rangeControlDemo,
        blockWeekendsDemo,
        blockPastDemo,
        blockSpecificDemo,
        blockRangesDemo,
        whitelistDemo,
        customBlockDemo,
        blockingControlDemo,
        appendBodyDemo,
        fixedPositionDemo,
        customContainerDemo,
        offsetPositionDemo,
        positionControlDemo,
        greenThemeDemo,
        purpleThemeDemo,
        largeThemeDemo;

      // Safe DatePicker initialization
      function safeDatePickerInit(selector, options, name) {
        try {
          const element = document.querySelector(selector);
          if (!element) {
            console.warn(`Element ${selector} not found, skipping ${name} initialization`);
            return null;
          }
          console.log(`Initializing ${name}...`);
          return new DatePicker(selector, options);
        } catch (error) {
          console.error(`Error initializing ${name}:`, error);
          return null;
        }
      }

      // Initialize all examples
      document.addEventListener("DOMContentLoaded", function () {
        console.log('DOM loaded, initializing DatePicker examples...');
        initExamples();
      });

      function initExamples() {
        // Icon examples
        iconRightPicker = safeDatePickerInit("#icon-right", {
          mode: "single",
          showIcon: true,
          iconPosition: "right",
          format: "Y-m-d",
          onChange: function (date) {
            const output = document.getElementById("icon-right-output");
            if (output) {
              output.textContent = date ? `Selected: ${date.toDateString()}` : "No date selected";
            }
          },
        }, "icon-right picker");

        iconLeftPicker = safeDatePickerInit("#icon-left", {
          mode: "single",
          showIcon: true,
          iconPosition: "left",
          format: "Y-m-d",
          onChange: function (date) {
            const output = document.getElementById("icon-left-output");
            if (output) {
              output.textContent = date ? `Selected: ${date.toDateString()}` : "No date selected";
            }
          },
        }, "icon-left picker");

        customIconPicker = safeDatePickerInit("#custom-icon", {
          mode: "single",
          showIcon: true,
          customIcon: "üìÖ",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("custom-icon-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        noIconPicker = new DatePicker("#no-icon", {
          mode: "single",
          showIcon: false,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("no-icon-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Single date picker
        singleDatePicker = new DatePicker("#single-date", {
          mode: "single",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("single-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // DateTime picker
        datetimePicker = new DatePicker("#single-datetime", {
          mode: "single",
          enableTime: true,
          format: "Y-m-d H:i",
          onChange: function (date) {
            document.getElementById("datetime-output").textContent = date
              ? `Selected: ${date.toString()}`
              : "No date selected";
          },
        });

        // Range picker (auto-close only after both dates selected)
        rangePicker = new DatePicker("#range-date", {
          mode: "range",
          format: "Y-m-d",
          closeOnSelect: true, // Will only close after both dates are selected
          onChange: function (dateRange) {
            const output = document.getElementById("range-output");
            if (dateRange.start && dateRange.end) {
              output.textContent = `Range: ${dateRange.start.toDateString()} to ${dateRange.end.toDateString()}`;
            } else if (dateRange.start) {
              output.textContent = `Start: ${dateRange.start.toDateString()} (select end date)`;
            } else {
              output.textContent = "No range selected";
            }
          },
        });

        // Range picker with confirmation
        rangeConfirmPicker = new DatePicker("#range-confirm", {
          mode: "range",
          confirmRange: true,
          format: "Y-m-d",
          onChange: function (dateRange) {
            const output = document.getElementById("range-confirm-output");
            if (dateRange.start && dateRange.end) {
              output.textContent = `Confirmed Range: ${dateRange.start.toDateString()} to ${dateRange.end.toDateString()}`;
            } else {
              output.textContent = "No range confirmed";
            }
          },
        });

        // Range picker with custom button text
        rangeCustomButtonsPicker = new DatePicker("#range-custom-buttons", {
          mode: "range",
          confirmRange: true,
          applyButtonText: "Confirm Selection",
          cancelButtonText: "Reset",
          format: "Y-m-d",
          onChange: function (dateRange) {
            const output = document.getElementById(
              "range-custom-buttons-output"
            );
            if (dateRange.start && dateRange.end) {
              output.textContent = `Selected: ${dateRange.start.toDateString()} to ${dateRange.end.toDateString()}`;
            } else {
              output.textContent = "No range selected";
            }
          },
        });

        // Multiple dates picker
        multiplePicker = new DatePicker("#multiple-dates", {
          mode: "multiple",
          format: "Y-m-d",
          closeOnSelect: false,
          onChange: function (dates) {
            const output = document.getElementById("multiple-output");
            if (dates && dates.length > 0) {
              output.textContent = `Selected ${dates.length} dates: ${dates
                .map((d) => d.toDateString())
                .join(", ")}`;
            } else {
              output.textContent = "No dates selected";
            }
          },
        });

        // Inline calendar
        inlinePicker = new DatePicker("#inline-calendar", {
          mode: "single",
          inline: true,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("inline-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Restricted calendar (only future dates)
        restrictedPicker = new DatePicker("#restricted-calendar", {
          mode: "single",
          inline: true,
          minDate: new Date(),
          maxDate: new Date(new Date().getTime() + 30 * 24 * 60 * 60 * 1000), // 30 days from now
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("restricted-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // API demo
        initApiDemo();

        // Icon control demo
        initIconControlDemo();

        // Dropdown examples
        initDropdownExamples();

        // Dropdown control demo
        initDropdownControlDemo();

        // Range control demo
        initRangeControlDemo();

        // Date blocking examples
        initDateBlockingExamples();

        // Blocking control demo
        initBlockingControlDemo();

        // Positioning examples
        initPositioningExamples();

        // Position control demo
        initPositionControlDemo();
        
        // Custom theme examples
        initCustomThemeExamples();
      }

      function initApiDemo() {
        apiDemo = new DatePicker("#api-demo", {
          mode: "single",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("api-output").textContent = date
              ? `Current date: ${date.toDateString()}`
              : "No date selected";
          },
          onOpen: function () {
            console.log("DatePicker opened");
          },
          onClose: function () {
            console.log("DatePicker closed");
          },
        });
      }

      function initIconControlDemo() {
        iconControlDemo = new DatePicker("#icon-control", {
          mode: "single",
          showIcon: true,
          iconPosition: "right",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("icon-control-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });
      }

      function showCurrentDate() {
        const currentDate = apiDemo.getDate();
        const output = document.getElementById("api-output");
        output.textContent = currentDate
          ? `Current date via API: ${currentDate.toDateString()}`
          : "No date selected";
      }

      function setCustomIcon() {
        const customIcons = [
          "üóìÔ∏è",
          "üìÜ",
          "‚è∞",
          '<i class="fas fa-calendar"></i>',
          "üïí",
        ];
        const randomIcon =
          customIcons[Math.floor(Math.random() * customIcons.length)];
        iconControlDemo.updateIcon(randomIcon);
        document.getElementById(
          "icon-control-output"
        ).textContent = `Icon updated to: ${randomIcon}`;
      }

      function resetToDefaultIcon() {
        iconControlDemo.updateIcon(null);
        document.getElementById("icon-control-output").textContent =
          "Icon reset to default calendar icon";
      }

      function initDropdownExamples() {
        // Both dropdowns
        dropdownBothPicker = new DatePicker("#dropdown-both", {
          mode: "single",
          enableMonthDropdown: true,
          enableYearDropdown: true,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("dropdown-both-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Month dropdown only
        dropdownMonthPicker = new DatePicker("#dropdown-month", {
          mode: "single",
          enableMonthDropdown: true,
          enableYearDropdown: false,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("dropdown-month-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Year dropdown only
        dropdownYearPicker = new DatePicker("#dropdown-year", {
          mode: "single",
          enableMonthDropdown: false,
          enableYearDropdown: true,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("dropdown-year-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Limited year range
        dropdownLimitedPicker = new DatePicker("#dropdown-limited", {
          mode: "single",
          enableMonthDropdown: true,
          enableYearDropdown: true,
          minYear: 2020,
          maxYear: 2030,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("dropdown-limited-output").textContent =
              date ? `Selected: ${date.toDateString()}` : "No date selected";
          },
        });
      }

      function initDropdownControlDemo() {
        dropdownControlDemo = new DatePicker("#dropdown-control", {
          mode: "single",
          enableMonthDropdown: true,
          enableYearDropdown: true,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("dropdown-control-output").textContent =
              date ? `Selected: ${date.toDateString()}` : "No date selected";
          },
        });
      }

      function initRangeControlDemo() {
        rangeControlDemo = new DatePicker("#range-control", {
          mode: "range",
          confirmRange: false,
          format: "Y-m-d",
          onChange: function (dateRange) {
            const output = document.getElementById("range-control-output");
            if (dateRange.start && dateRange.end) {
              output.textContent = `Range: ${dateRange.start.toDateString()} to ${dateRange.end.toDateString()}`;
            } else if (dateRange.start) {
              output.textContent = `Start: ${dateRange.start.toDateString()}`;
            } else {
              output.textContent = "No range selected";
            }
          },
        });
      }

      function showCurrentRange() {
        const currentRange = rangeControlDemo.getCurrentRange();
        const output = document.getElementById("range-control-output");

        if (currentRange) {
          let text = "Current Range: ";
          if (currentRange.start && currentRange.end) {
            text += `${currentRange.start.toDateString()} to ${currentRange.end.toDateString()}`;
          } else if (currentRange.start) {
            text += `Start: ${currentRange.start.toDateString()}`;
          } else {
            text += "None selected";
          }

          if (
            currentRange.confirmed &&
            currentRange.confirmed.start &&
            currentRange.confirmed.end
          ) {
            text += ` | Confirmed: ${currentRange.confirmed.start.toDateString()} to ${currentRange.confirmed.end.toDateString()}`;
          }

          output.textContent = text;
        } else {
          output.textContent = "No range data available";
        }
      }

      function initDateBlockingExamples() {
        // Block weekends
        blockWeekendsDemo = new DatePicker("#block-weekends", {
          mode: "single",
          disableWeekends: true,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("block-weekends-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Block past dates
        blockPastDemo = new DatePicker("#block-past", {
          mode: "single",
          blockPastDates: true,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("block-past-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Block specific dates (holidays)
        const holidays = [
          new Date("2024-12-25"), // Christmas
          new Date("2024-01-01"), // New Year
          new Date("2024-07-04"), // Independence Day
          new Date("2024-11-28"), // Thanksgiving
        ];

        blockSpecificDemo = new DatePicker("#block-specific", {
          mode: "single",
          disabledDates: holidays,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("block-specific-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Block date ranges
        blockRangesDemo = new DatePicker("#block-ranges", {
          mode: "single",
          disabledDateRanges: [
            { start: new Date("2024-12-20"), end: new Date("2024-12-31") }, // Winter break
            { start: new Date("2024-07-01"), end: new Date("2024-07-15") }, // Summer vacation
          ],
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("block-ranges-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Whitelist specific dates only
        const allowedDates = [
          new Date("2024-12-01"),
          new Date("2024-12-05"),
          new Date("2024-12-10"),
          new Date("2024-12-15"),
          new Date("2024-12-20"),
        ];

        whitelistDemo = new DatePicker("#whitelist-dates", {
          mode: "single",
          enabledDates: allowedDates,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("whitelist-dates-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Custom block function (no Fridays)
        customBlockDemo = new DatePicker("#custom-block", {
          mode: "single",
          disableFunction: function (date) {
            return date.getDay() === 5; // Block Fridays
          },
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("custom-block-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });
      }

      function initBlockingControlDemo() {
        blockingControlDemo = new DatePicker("#blocking-control", {
          mode: "single",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("blocking-control-output").textContent =
              date ? `Selected: ${date.toDateString()}` : "No date selected";
          },
        });
      }

      function addHolidays() {
        const holidays = [
          "2024-12-25", // Christmas
          "2024-01-01", // New Year
          "2024-07-04", // Independence Day
        ];
        blockingControlDemo.addDisabledDates(holidays);
        document.getElementById("blocking-control-output").textContent =
          "Holidays added to blocked dates";
      }

      function addVacationPeriod() {
        blockingControlDemo.addDisabledDateRange("2024-12-20", "2024-12-31");
        document.getElementById("blocking-control-output").textContent =
          "Vacation period blocked (Dec 20-31)";
      }

      function initPositioningExamples() {
        // Append to body
        appendBodyDemo = new DatePicker("#append-body", {
          mode: "single",
          appendTo: "body",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("append-body-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Fixed position
        fixedPositionDemo = new DatePicker("#fixed-position", {
          mode: "single",
          positionX: 100,
          positionY: 200,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("fixed-position-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });

        // Custom container
        customContainerDemo = new DatePicker("#custom-container", {
          mode: "single",
          appendTo: "#custom-append-target",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("custom-container-output").textContent =
              date ? `Selected: ${date.toDateString()}` : "No date selected";
          },
        });

        // With offset
        offsetPositionDemo = new DatePicker("#offset-position", {
          mode: "single",
          offsetX: 50,
          offsetY: 20,
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("offset-position-output").textContent = date
              ? `Selected: ${date.toDateString()}`
              : "No date selected";
          },
        });
      }

      function initPositionControlDemo() {
        positionControlDemo = new DatePicker("#position-control", {
          mode: "single",
          format: "Y-m-d",
          onChange: function (date) {
            document.getElementById("position-control-output").textContent =
              date ? `Selected: ${date.toDateString()}` : "No date selected";
          },
          onOpen: function () {
            const pos =
              this.options.positionX !== null && this.options.positionY !== null
                ? `Position: (${this.options.positionX}, ${this.options.positionY})`
                : this.options.positionX !== null
                ? `X: ${this.options.positionX}`
                : this.options.positionY !== null
                ? `Y: ${this.options.positionY}`
                : "Auto positioning";

            const offset =
              this.options.offsetX !== 0 || this.options.offsetY !== 0
                ? ` | Offset: (${this.options.offsetX}, ${this.options.offsetY})`
                : "";

            document.getElementById("position-control-output").textContent =
              pos + offset;
          },
        });
      }
      
      function initCustomThemeExamples() {
        // Green theme
        greenThemeDemo = safeDatePickerInit('#green-theme', {
          mode: 'single',
          theme: 'green-theme',
          format: 'Y-m-d',
          onChange: function(date) {
            const output = document.getElementById('green-theme-output');
            if (output) {
              output.textContent = date ? `Selected: ${date.toDateString()}` : 'No date selected';
            }
          }
        }, "green theme demo");
        
        // Purple theme
        purpleThemeDemo = safeDatePickerInit('#purple-theme', {
          mode: 'single',
          theme: 'purple-theme',
          format: 'Y-m-d',
          onChange: function(date) {
            const output = document.getElementById('purple-theme-output');
            if (output) {
              output.textContent = date ? `Selected: ${date.toDateString()}` : 'No date selected';
            }
          }
        }, "purple theme demo");
        
        // Large theme
        largeThemeDemo = safeDatePickerInit('#large-theme', {
          mode: 'single',
          theme: 'large-theme',
          format: 'Y-m-d',
          onChange: function(date) {
            const output = document.getElementById('large-theme-output');
            if (output) {
              output.textContent = date ? `Selected: ${date.toDateString()}` : 'No date selected';
            }
          }
        }, "large theme demo");
      }

      function switchTheme(theme) {
        // Remove active class from all theme buttons
        document.querySelectorAll(".theme-switcher button").forEach((btn) => {
          btn.classList.remove("active");
        });

        // Add active class to selected theme
        document.getElementById(`theme-${theme}`).classList.add("active");

        // Update all datepicker containers
        document
          .querySelectorAll(".datepicker-container")
          .forEach((container) => {
            container.className = container.className.replace(
              /\b(default|dark|minimal)\b/g,
              ""
            );
            container.classList.add(theme);
          });
      }

      // Add some demo event listeners
      document.addEventListener("DOMContentLoaded", function () {
        // Log all datepicker events for demonstration
        const logEvent = (eventName, data) => {
          console.log(`DatePicker Event: ${eventName}`, data);
        };

        // You can add global event listeners here if needed
      });
    </script>
  </body>
</html>
